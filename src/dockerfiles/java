FROM eclipse-temurin:11
ARG SUBMISSION_FILE_PATH
ARG INPUT_FILE_PATH
ENV TIME_LIMIT 0
COPY ${SUBMISSION_FILE_PATH} .
COPY ${INPUT_FILE_PATH} .
RUN ["javac", "submission.java"]
RUN ["mkdir", "outputs"]
CMD ["/bin/sh", "-c", "timeout ${TIME_LIMIT} java submission < input.txt > /outputs/submission.txt; echo $? > /outputs/timeout.txt"]
