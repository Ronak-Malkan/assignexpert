FROM alpine:latest
ENV TIME_LIMIT 0
# build-base is a package that will install gcc and its dependencies, amongst other things.
RUN apk add build-base
RUN ["mkdir", "ae"]
CMD ["/bin/sh", "-c", "gcc /ae/submission.c -o /ae/submission 2> /ae/compile.txt; timeout ${TIME_LIMIT} /ae/submission < /ae/input.txt > /ae/submission.txt 2> /ae/runtime.txt; echo $? > /ae/timeout.txt"]
