FROM alpine:latest
ARG SUBMISSION_FILE_PATH
ARG INPUT_FILE_PATH
COPY ${SUBMISSION_FILE_PATH} .
COPY ${INPUT_FILE_PATH} .
# build-base is a package that will install gcc and its dependencies, amongst other things.
RUN apk add build-base
RUN ["gcc", "submission.c", "-o", "submission"]
RUN ["mkdir", "outputs"]
CMD ["/bin/sh", "-c", "./submission < input.txt > /outputs/submission.txt"]
